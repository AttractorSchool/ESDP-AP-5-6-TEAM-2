{% extends 'base.html' %}

{% block content %}
<form class="row" >
    <input class="col-12 form-control mb-2 border-secondary bg-transparent" type="search" name="search" value="{{ form.search.value|default:'' }}"
           placeholder="Поиск" aria-label="Search">
    <select class="col me-2 form-select border-secondary bg-transparent" name="category" aria-label="Default select example">
        <option value="{{ form.category.value|default:'' }}" selected>Выберите категорию</option>
        {% for category in categories %}
            {% if category.0 == form.category.value %}
                <option value="{{ category.0 }}" selected>{{ category.0 }}</option>
            {% else %}
                <option value="{{ category.0 }}">{{ category.0 }}</option>
            {% endif %}
        {% endfor %}
    </select>
    <select class="col me-2 form-select border-secondary bg-transparent" name="price_category" aria-label="Default select example">
        <option value="{{ form.price_category.value|default:'' }}" selected>Выберите категорию цены</option>
        {% for price_category in price_categories %}
            {% if price_category.0 == form.price_category.value %}
                <option value="{{ price_category.0 }}" selected>{{ price_category.0 }}</option>
            {% else %}
                <option value="{{ price_category.0 }}">{{ price_category.0 }}</option>
            {% endif %}
        {% endfor %}
    </select>
    <button class="col-1 me-2 btn btn-secondary" type="submit">Поиск</button>
    <a href="{% url 'service_list' orgID=1 %}" class="col-1 btn btn-secondary">Сбросить</a>
</form>
<table data-toggle="table">
    <thead>
        <tr>
            <th style="width: 250px; height: 10px">Name</th>
            <th style="width: 300px; height: 10px">Category</th>
            <th style="width: 150px; height: 10px">Note</th>
            <th style="width: 250px; height: 10px">Price category</th>
            <th style="width: 100px; height: 10px">Price</th>
        </tr>
    </thead>
    <tbody>
        {% for service in services %}
            <tr>
                <td style="width: 250px; height: 10px">{{ service.name }}</td>
                <td style="width: 300px; height: 10px">{{ service.category }}</td>
                <td style="width: 200px; height: 10px">{{ service.note|default:'' }}</td>
                <td style="width: 250px; height: 10px">{{ service.price_category }}</td>
                <td style="width: 100px; height: 10px">{{ service.price }}</td>
            </tr>
        {% endfor %}
    </tbody>
</table>
{% if is_paginated %}
    {% include 'partials/pagination.html' %}
{% endif %}
{% endblock %}
